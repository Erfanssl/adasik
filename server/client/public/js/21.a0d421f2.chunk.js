(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{478:function(e,t,n){"use strict";var a=n(118),r=n.n(a);var o=function(){var e=navigator.userAgent;return e.match(/(tablet|ipad|playbook|silk)|(android(?!.*mobi))/i)?"tablet":e.match(/Mobile|iP(hone|od)|Android|BlackBerry|IEMobile|Kindle|Silk-Accelerated|(hpw|web)OS|Opera M(obi|ini)/)?"mobile":"desktop"};var c=function(e){var t=new(window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection)({iceServers:[]}),n=function(){},a={},r=/([0-9]{1,3}(\.[0-9]{1,3}){3}|[a-f0-9]{1,4}(:[a-f0-9]{1,4}){7})/g;function o(t){a[t]||e(t),a[t]=!0}t.createDataChannel(""),t.createOffer().then((function(e){e.sdp.split("\n").forEach((function(e){e.indexOf("candidate")<0||e.match(r).forEach(o)})),t.setLocalDescription(e,n,n)})).catch((function(e){})),t.onicecandidate=function(e){e&&e.candidate&&e.candidate.candidate&&e.candidate.candidate.match(r)&&e.candidate.candidate.match(r).forEach(o)}};t.a=function(){var e=r.a.connect("/pageview",{transports:["websocket"],upgrade:!1});return e.on("connect",(function(){})),e.on("visitorConnected",(function(){var t={pageviewUrl:window.location.pathname,httpReferer:document.referrer,deviceType:o()};c((function(n){t.ip||(t.ip=n,fetch("/api/pageview",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(t){e.emit("viewData",t.data)})))}))})),e}},479:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(65),c=n(10),i=n(156);function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(n){var a=n.identifier,o=s(n,["identifier"]);return a?a.NotAuthorizedError?(i.a.push("/sign-in"),r.a.createElement("div",null,"Redirecting...")):a.FetchError?r.a.createElement(c.a,{text:"Unable to fetch data. Try again"}):a.name||t?a.text||!a.name&&t?r.a.createElement(e,o):r.a.createElement(c.a,null):(i.a.push("/settings/profile"),r.a.createElement("div",null,"Redirecting...")):r.a.createElement(c.a,null)}function a(e){return{identifier:e.identifier}}return Object(o.b)(a,null)(r.a.memo(n))}},481:function(e,t,n){"use strict";t.a=function(e){var t,n=!1;Number(e)<0&&(n=!0),t=n?Number(e).toString().split("").slice(1):Number(e).toString().split("");for(var a=[],r=0;t.length;)a.unshift(t.pop()),++r>=3&&(a.unshift(","),r=0);var o=a.join("").replace(/(^,|,$)/g,"");return n?"-"+o:o}},485:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(66);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function i(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}t.a=function(e){var t=e.text,n=e.form,a=void 0!==n&&n,s=e.link,l=void 0===s?"/sign-up":s,u=i(e,["text","form","link"]);return r.a.createElement("div",c({},u,{className:"button--container__main"}),a?r.a.createElement("div",null,t||"Get Started"):r.a.createElement(o.a,{to:l},t||"Get Started"))}},533:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var a=indexedDB.open("training-store",1);function r(e,t){var n=indexedDB.open("training-store",1);return new Promise((function(a,r){n.onsuccess=function(){var o=n.result.transaction(e,"readwrite").objectStore(e).put(t);o.onerror=function(e){return r(e)},o.onsuccess=function(){return a("Data added!")}}}))}function o(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=window.atob(t),a=new Uint8Array(n.length),r=0;r<n.length;++r)a[r]=n.charCodeAt(r);return a}a.onupgradeneeded=function(){var e=a.result;e.objectStoreNames.contains("trainings")||e.createObjectStore("trainings",{keyPath:"gameName"})},a.onerror=function(e){console.log("Error from opening the IndexDB: ",e)}},534:function(e,t,n){"use strict";t.a=n.p+"images/check.73235d2764aad8c391dc7e63aff8a6e0.svg"},535:function(e,t,n){"use strict";t.a=n.p+"images/empty.cefba746e343e4e9c22453913882b3a0.svg"},741:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(65),c=n(66),i=n(16);function s(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}function l(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(e){return Promise.reject(e)}}}function u(){}var m=n(533),d=n(481);var f=n(479),h=n(478),b=n(485),v=n.p+"images/total-score.7104848a5718f6556c822c0f4869258b.svg";function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(a=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==i.return||i.return()}finally{if(r)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var y=function(e){var t=e.score,n=p(Object(a.useState)(0),2),o=n[0],c=n[1];return Object(a.useEffect)((function(){var e=Math.max(Math.floor(t/50),1),n=setInterval((function(){c((function(a){return a+e>=t?(clearInterval(n),t):a+e}))}),30)}),[]),r.a.createElement("div",{className:"dashboard--box__one"},r.a.createElement("div",{className:"dashboard--box__icon-container"},r.a.createElement("img",{src:v,alt:"total score"})),r.a.createElement("div",{className:"dashboard--score-container"},r.a.createElement("p",{className:"dashboard--score__text"},"Total Score"),r.a.createElement("p",{className:"dashboard--score__number"},Object(d.a)(o))))},E=n.p+"images/training-score.ffba14f1d5fa2bac7298a0d9c2ddd967.svg";function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(a=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==i.return||i.return()}finally{if(r)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var O=function(e){var t=e.score,n=N(Object(a.useState)(0),2),o=n[0],c=n[1];return Object(a.useEffect)((function(){var e=Math.max(Math.floor(t/50),1),n=setInterval((function(){c((function(a){return a+e>=t?(clearInterval(n),t):a+e}))}),30)}),[]),r.a.createElement("div",{className:"dashboard--box__two"},r.a.createElement("div",{className:"dashboard--box__icon-container"},r.a.createElement("img",{src:E,alt:"training score"})),r.a.createElement("div",{className:"dashboard--score-container"},r.a.createElement("p",{className:"dashboard--score__text"},"Training Score"),r.a.createElement("p",{className:"dashboard--score__number"},Object(d.a)(o))))},S=n.p+"images/rank.25424c1e72f4d8e45805563095e08d03.svg";function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(a=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==i.return||i.return()}finally{if(r)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var k=function(e){var t=e.score,n=j(Object(a.useState)(0),2),o=n[0],c=n[1];return Object(a.useEffect)((function(){var e=Math.max(Math.floor(t/50),1),n=setInterval((function(){c((function(a){return a+e>=t?(clearInterval(n),t):a+e}))}),30)}),[]),r.a.createElement("div",{className:"dashboard--box__three"},r.a.createElement("div",{className:"dashboard--box__icon-container"},r.a.createElement("img",{src:S,alt:"rank"})),r.a.createElement("div",{className:"dashboard--score-container"},r.a.createElement("p",{className:"dashboard--score__text"},"Universal Rank"),r.a.createElement("p",{className:"dashboard--score__number"},Object(d.a)(o))))};function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(a=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==i.return||i.return()}finally{if(r)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var I=function(e){var t=e.level,n=e.progress,o=e.destination,c=x(Object(a.useState)(0),2),i=c[0],s=c[1];Object(a.useEffect)((function(){var e=Math.max(Math.floor(n/25),1),t=setInterval((function(){s((function(a){return a+e>=n?(clearInterval(t),n):a+e}))}),10)}),[]);var l=i/o*100;return r.a.createElement("div",{className:"dashboard--box__four"},r.a.createElement("div",{className:"box--four__bg",style:{width:"".concat(l,"%")}}),r.a.createElement("div",{className:"box--four__level-progress"},r.a.createElement("p",null,Object(d.a)(i)+"/",Object(d.a)(o))),r.a.createElement("div",{className:"dashboard--score-container"},r.a.createElement("p",{className:"dashboard--score__text"},"Level"),r.a.createElement("p",{className:"dashboard--score__number"},Object(d.a)(t))))},T=n(10),C=n(534),D=n(535);function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(a=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==i.return||i.return()}finally{if(r)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}t.default=Object(f.a)(Object(o.b)((function(e){return{dashboardData:e.dashboard,statusSocket:e.sockets.status}}),{fetchDashboard:function(){return l((function(e){return s(fetch("/api/dashboard"),(function(t){return s(t.json(),(function(t){e({type:i.c,payload:t})}))}))}))},dashboardSendTools:function(e){return l((function(t){return function(e){if(e&&e.then)return e.then(u)}(function(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}((function(){return s(fetch("/api/dashboard/tools",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:e})}),(function(n){return s(n.json(),(function(n){n.Message&&t({type:i.b,payload:e})}))}))}),u))}))}})((function(e){var t,n,o,i,s,l,u,d,f,v,p=e.fetchDashboard,g=e.dashboardData,E=e.statusSocket,N=e.dashboardSendTools,w=e.dashboardReFetch,S=e.installEvent,j=e.setInstallEvent,_=M(Object(a.useState)(!1),2),x=_[0],A=_[1];return Object(a.useEffect)((function(){p(),document.title="Adasik - Dashboard";var e=Object(h.a)();return null==E||E.on("messageReceive",(function(e){e.fullName;var t=e.fromUsername,n=e.message;E.emit("messageReceiveStatus",{fromUsername:t,message:n,status:"delivered"})})),function(){e.disconnect()}}),[]),Object(a.useEffect)((function(){g&&Object.keys(g).length&&g.assignments&&A(!0)}),[g]),Object(a.useEffect)((function(){w&&w[0]&&p()}),[w]),r.a.createElement("div",{className:"dashboard--container"},!x&&r.a.createElement(T.a,{text:"Fetching Data..."}),r.a.createElement("div",{className:"dashboard--greeting"},x?r.a.createElement("p",null,"Good ",(f=(new Date).getHours(),v="",f>=0&&(v="Night"),f>=5&&(v="Morning"),f>=12&&(v="Noon"),f>=16&&(v="Afternoon"),f>=19&&(v="Evening"),f>=21&&(v="Night"),v)," ",r.a.createElement("span",{className:"dashboard--username"},null===(t=g.userInfo)||void 0===t?void 0:t.fullName.split(" ")[0])):r.a.createElement("p",null,"Fetching Data...")),r.a.createElement("div",{className:"dashboard--box-container"},r.a.createElement("div",{className:"box--bucket"},x&&r.a.createElement(y,{score:g.userInfo.whole.totalScore}),x&&r.a.createElement(O,{score:g.userInfo.whole.trainingScore})),r.a.createElement("div",{className:"box--bucket"},x&&r.a.createElement(k,{score:g.userInfo.whole.rank}),x&&r.a.createElement(I,{progress:g.userInfo.whole.level.progress,destination:g.userInfo.whole.level.destination,level:g.userInfo.whole.level.level}))),r.a.createElement("div",{className:"dashboard--middle-container"},r.a.createElement("div",{className:"dashboard--whats-new-container"},r.a.createElement("div",{className:"dashboard--whats-new__header-container"},r.a.createElement("div",{className:"dashboard--live-icon"}),r.a.createElement("h2",null,"What's New?")),r.a.createElement("div",{className:"dashboard--whats-new__body-container"},x&&(o=[],i=g.whatsNewData,s=i.newFriendRequests,l=i.challengeRequests,u=i.challengesShouldPlay,d=i.newMessengerConversations,s||l||u||d?(s&&o.push(r.a.createElement("div",null,r.a.createElement("p",null,"You have ",s," friend request",s>1?"s":""," "),r.a.createElement(c.a,{to:"/friends"},"Go to Friends ->"))),l&&o.push(r.a.createElement("div",null,r.a.createElement("p",null,"You have ",l," challenge request",l>1?"s":""),r.a.createElement(c.a,{to:"/challenges"},"Go to Challenges ->"))),u&&o.push(r.a.createElement("div",null,r.a.createElement("p",null,"You have ",u," challenge",u>1?"s":""," to play"),r.a.createElement(c.a,{to:"/challenges"},"Go to Challenges ->"))),d&&o.push(r.a.createElement("div",null,r.a.createElement("p",null,"You have ",d," conversation",d>1?"s":""," to see"),r.a.createElement(c.a,{to:"/messenger"},"Go to Messenger ->"))),r.a.createElement(r.a.Fragment,null,o)):r.a.createElement("div",{className:"nothing--new"},r.a.createElement("p",null,"Nothing New"),r.a.createElement("img",{src:D.a,alt:"empty"})))))),r.a.createElement("div",{className:"dashboard--plan-container"},r.a.createElement("div",{className:"dashboard--plan__header-container"},r.a.createElement("h2",null,"Daily Assignment")),r.a.createElement("div",{className:"dashboard--plan__body-container"},r.a.createElement("div",{className:"box--bucket"},x&&r.a.createElement("div",{className:(n="dashboard--plan__training-container",g.assignments.training&&g.assignments.training.length&&g.assignments.training.every((function(e){return e.completed}))&&(n+=" done"),n)},r.a.createElement("h3",null,"Training"),r.a.createElement("p",{className:"description"},"Play These Games"),r.a.createElement("div",{className:"items--container"},g.assignments.training.map((function(e){return r.a.createElement(c.a,{key:e.link,to:"/training".concat(e.link),className:e.completed?"done":""},r.a.createElement("img",{src:e.icon,alt:e.link.substring(1)}),r.a.createElement("img",{className:"done",src:C.a,alt:"check"}))}))),r.a.createElement("p",{className:"done--text"},"Done!")),x&&function(){return r.a.createElement("div",{className:(e="dashboard--plan__challenge-container",g.assignments.challenge.every((function(e){return e.completed}))&&(e+=" done"),e)},r.a.createElement("h3",null,"Challenge"),r.a.createElement("p",{className:"description"},"Start and Finish 3 Challenges"),r.a.createElement("div",{className:"items--container"},g.assignments.challenge.map((function(e,t){return r.a.createElement("div",{key:e.link,className:e.completed?"done":e.started?"start":""},r.a.createElement("p",null,t+1),r.a.createElement("img",{className:"done",src:C.a,alt:"check"}))}))),r.a.createElement("p",{className:"done--text"},"Done!"));var e}()),r.a.createElement("div",{className:"box--bucket"},x&&function(){function e(){var e="dashboard--plan__test-container";return g.assignments.test&&g.assignments.test.length&&g.assignments.test.every((function(e){return e.completed}))&&(e+=" done"),e}return g.assignments.test.length?r.a.createElement("div",{className:e()},r.a.createElement("h3",null,"Test"),r.a.createElement("p",{className:"description"},"Take ",g.assignments.test.length>1?"These":"This"," Test"),r.a.createElement("div",{className:"items--container"},g.assignments.test.map((function(e){return r.a.createElement(c.a,{key:e.link,to:"/tests".concat(e.link),className:e.completed?"done":""},r.a.createElement("img",{src:e.icon,alt:e.link.substring(1)}),r.a.createElement("img",{className:"done",src:C.a,alt:"check"}))}))),r.a.createElement("p",{className:"done--text"},"Done!")):r.a.createElement("div",{className:e()},r.a.createElement("h3",null,"Test"),r.a.createElement("p",{className:"no--test"},"No Test For Today"))}(),x&&r.a.createElement("div",{className:"dashboard--plan__group-container"},r.a.createElement("h3",null,"Group"),r.a.createElement("p",null,"Coming Soon..."))))),x&&(S||"granted"!==Notification.permission)&&r.a.createElement("div",{className:"dashboard--tools-container"},r.a.createElement("div",{className:"header--container"},r.a.createElement("h2",null,"Experience Adasik Better"),r.a.createElement("p",null,"In order to use all of Adasik's features, we recommend you to do following",S&&"granted"!==Notification.permission?"s":"",":")),S&&r.a.createElement("div",{className:"feature--one"},r.a.createElement("h2",null,"Install Adasik"),r.a.createElement("p",{className:"info"},"You can Install Adasik on your Computer or Phone. It's an in-browser installation; so, you're not actually installing it as a separate app."),r.a.createElement(b.a,{onClick:function(){S&&(S.prompt(),S.userChoice.then((function(e){"accepted"===e.outcome&&(N("install"),j(null)),e.outcome})))},text:"Install Adasik",form:!0})),"granted"!==Notification.permission&&r.a.createElement("div",{className:"feature--two"},r.a.createElement("h2",null,"Enable Notification"),r.a.createElement("p",{className:"info"},"You can also Enable the notification to be aware whenever a you have a new message, challenge's request, friend request or if it's your turn to play in a challenge."),r.a.createElement("p",{className:"info"},"You can disable it in your settings, privacy section."),r.a.createElement(b.a,{onClick:function(){Notification.requestPermission().then((function(e){if("granted"===e&&N("notification"),"granted"!==e)return alert("You will not receive any notification. If you want, Enable it.");var t;"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){return(t=e).pushManager.getSubscription()})).then((function(e){if(null===e){var n=Object(m.a)("BJ_qddkp-F_RO6uXbnOZtZxhkj1WLHAmRBl2DcwNTe4g3a16l5Ej8ZLTuvrjpNwV0s2ETE9tNyvcxkQ3LfIDqhE");return t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:n})}})).then((function(e){return fetch("/nnn-notification/create-subscription",{method:"POST",mode:"cors",body:JSON.stringify({newSub:e,userId:g.userInfo._id})})})).then((function(e){})).catch()})).catch()},text:"Enable Notification",form:!0}))))})))}}]);